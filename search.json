[{"path":"https://scotgovanalysis.github.io/sgplot/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to sgplot","title":"Contributing to sgplot","text":"outlines propose change sgplot.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing to sgplot","text":"can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd reading comment first line.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to sgplot","text":"want make bigger change, ’s good idea first file issue make sure package maintainers agree ’s needed. ’ve found bug, please file issue illustrates bug minimal reprex.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Bigger changes","what":"Pull request process","title":"Contributing to sgplot","text":"work Scottish Government, request write access repository contacting package maintainers. external, fork repository. Clone repository onto computer crate Git branch changes. Make changes, commit git, create PR. title PR briefly describe change. body PR contain Fixes #issue-number. means issue automatically close PR merged. Add package maintainers PR reviewers. user-facing changes, add bullet top NEWS.md (.e. just first header). Add ‘Authors’ section DESCRIPTION file. rule thumb, please assign role author (\"aut\") writing exported function, contributor (\"ctb\") anything else.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Bigger changes","what":"Code style","title":"Contributing to sgplot","text":"New code follow tidyverse style guide. can use styler package apply styles, please don’t restyle code nothing PR. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 Crown Copyright (Scottish Government) Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/SUPPORT.html","id":null,"dir":"","previous_headings":"","what":"Getting help with sgplot","title":"Getting help with sgplot","text":"Thanks using sgplot!","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/SUPPORT.html","id":"try-these-first","dir":"","previous_headings":"","what":"Try these first","title":"Getting help with sgplot","text":"want find sgplot’s functions; help files can found References page package website. Alternatively, type ?function_name RStudio console. example: need help ggplot2, might helpful look sgplot cookbook contains lots example code create various types chart. ggplot2 website may also helpful.","code":"?theme_sg()"},{"path":"https://scotgovanalysis.github.io/sgplot/SUPPORT.html","id":"where-to-ask-for-help","dir":"","previous_headings":"","what":"Where to ask for help","title":"Getting help with sgplot","text":"’s question: Ask Scottish Government R Yammer community. ’s bug: file issue GitHub. ’re sure aren’t comfortable either options, contact package maintainers. opening new issue, sure search issues pull requests make sure bug hasn’t reported /already fixed development version. default, search pre-populated :issue :open. can edit qualifiers (e.g. :pr, :closed) needed. example, ’d simply remove :open search issues repo, open closed.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/SUPPORT.html","id":"how-to-ask-for-help","dir":"","previous_headings":"","what":"How to ask for help","title":"Getting help with sgplot","text":"Try explain problem clearly possible. involve explaining trying expected actual behaviour code . can useful include minimal reproducible example (reprex) using reprex package. help using reprex, see Get help section tidyverse site. able reproduce problem greatly increases chances us able help .","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/accessibility.html","id":"resources","dir":"Articles","previous_headings":"","what":"Resources","title":"Accessibility","text":"Government Analysis Function published variety resources producing accessible data visualisations: Charts Checklist Charts Guidance Colours Guidance Data Visualisation e-Learning (particular Accessibility Colour module) sgplot developed following advice guidance, however, using sgplot guarantee accessibility. sgplot therefore used conjunction guidance.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/accessibility.html","id":"accessibility-of-charts-using-sgplot","dir":"Articles","previous_headings":"","what":"Accessibility of charts using sgplot","title":"Accessibility","text":"applying theme_sg ggplot2 plots, following best practice followed: Plot background white. Axis lines ticks light grey (#595959). default, x axis shown can controlled using axis ticks arguments. Grid lines light grey (#595959) kept minimum; default major y axis lines shown, can controlled using grid argument. Text black, uses Sans Serif font size 12 default. Text size can controlled using base_size argument. text horizontal. Line thickness relative font size. sgplot provides colour palettes set Scottish Government Design System. palettes developed meet Web Content Accessibility Guidelines 2.1 graphical objects can applied charts using one four colour/fill functions: scale_colour_discrete_sg() scale_fill_discrete_sg() scale_colour_continuous_sg() scale_fill_continuous_sg() information sgplot colours can found vignette(\"colours\").","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/accessibility.html","id":"other-accessibility-considerations","dir":"Articles","previous_headings":"","what":"Other accessibility considerations","title":"Accessibility","text":"Using sgplot guarantee accessibility. Analysis Function chart guidance contains detailed information considerations made. repeated , think following good place start: Consider type chart best convey message. Keep simple possible. Plot titles provided body page, embedded within image plot. pose risk plot image re-shared without title losing context, however usually preferable prioritise accessibility. plots must alt text (may code behind image plot, also table data text description message chart presenting). Take great care using stacked bar chart. Keep number categories minimum, carefully consider order categories bars. horizontal text difficult read (example, axis labels overlapping), consider different chart orientation type. using bar chart, gap bars narrower width single bar. R Graphics cookbook describes . Use commas thousands separators axis labels text annotations. Ask feedback colleagues users.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/colours.html","id":"things-to-consider-when-using-colour","dir":"Articles","previous_headings":"","what":"Things to consider when using colour","title":"Colours","text":"Using sgplot colour palettes guarantee charts accessible. Scottish Government Analysis Function published guidance steps take ensure accessible use colour. sgplot used conjunction advice given guidance documents. following key things consider using colour data visualisations: use colour absolutely necessary rely colour alone communicate message Use colour consistently producing series plots Limit number different colours use; ideally absolute maximum four Use colour palettes order presented ensure adjacent colours sufficient contrast ","code":""},{"path":[]},{"path":"https://scotgovanalysis.github.io/sgplot/articles/colours.html","id":"sg","dir":"Articles","previous_headings":"Colour palettes in sgplot","what":"Scottish Government","title":"Colours","text":"Scottish Government colour palettes used default sgplot.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/colours.html","id":"sg-main","dir":"Articles","previous_headings":"Colour palettes in sgplot > Scottish Government","what":"Main palette","title":"Colours","text":"main palette used categorical data. Note: cells ‘Example colour’ column may appear blank screen reader software. contain colour fill, data. try use absolute maximum four colours chart. feel need four, think redesign chart avoid . absolutely must use four colours, main-extended palette can used. Note: cells ‘Example colour’ column may appear blank screen reader software. contain colour fill, data.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/colours.html","id":"sg-sequential","dir":"Articles","previous_headings":"Colour palettes in sgplot > Scottish Government","what":"Sequential palette","title":"Colours","text":"sequential colour palette used data order meaning. Note: cells ‘Example colour’ column may appear blank screen reader software. contain colour fill, data. palette restricted tints one colour, issues colour contrast. Neither dark-blue light-blue sufficient colour contrast mid-blue. Follow advice using sequential palette Analysis Function colour guidance using palette.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/colours.html","id":"sg-focus","dir":"Articles","previous_headings":"Colour palettes in sgplot > Scottish Government","what":"Focus palette","title":"Colours","text":"focus palette used highlight specific elements plot. Note: cells ‘Example colour’ column may appear blank screen reader software. contain colour fill, data. grey palette meet required colour contrast -white background (#f8f8f8), therefore charts using palette use white background (#ffffff).","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/colours.html","id":"sss","dir":"Articles","previous_headings":"Colour palettes in sgplot","what":"Social Security Scotland","title":"Colours","text":"use Social Security Scotland palette, set palette_type = \"sss\" using scale_ colour functions. questions palettes, please contact Social Security Scotland statistics mailbox.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/colours.html","id":"main-palette","dir":"Articles","previous_headings":"Colour palettes in sgplot > Social Security Scotland","what":"Main palette","title":"Colours","text":"main palette used categorical data. Note: cells ‘Example colour’ column may appear blank screen reader software. contain colour fill, data. try use absolute maximum four colours chart. feel need four, think redesign chart avoid . absolutely must use four colours, main-extended palette can used. Note: cells ‘Example colour’ column may appear blank screen reader software. contain colour fill, data.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/colours.html","id":"sequential-palette","dir":"Articles","previous_headings":"Colour palettes in sgplot > Social Security Scotland","what":"Sequential palette","title":"Colours","text":"sequential colour palette used data order meaning. palette Scottish Government sequential palette. Note: cells ‘Example colour’ column may appear blank screen reader software. contain colour fill, data. palette restricted tints one colour, issues colour contrast. Neither dark-blue light-blue sufficient colour contrast mid-blue. Follow advice using sequential palette Analysis Function colour guidance using palette.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/colours.html","id":"focus-palette","dir":"Articles","previous_headings":"Colour palettes in sgplot > Social Security Scotland","what":"Focus palette","title":"Colours","text":"focus palette used highlight specific elements plot. Note: cells ‘Example colour’ column may appear blank screen reader software. contain colour fill, data.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/colours.html","id":"af","dir":"Articles","previous_headings":"Colour palettes in sgplot","what":"Government Analysis Function","title":"Colours","text":"Government Analysis Function guidance also contains suggested colour palettes. also provided sgplot, however Scottish Government palettes used default. use Analysis Function palette, set palette_type = \"af\" using scale_ colour functions.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/colours.html","id":"main-palette-1","dir":"Articles","previous_headings":"Colour palettes in sgplot > Government Analysis Function","what":"Main palette","title":"Colours","text":"main palette used categorical data. Note: cells ‘Example colour’ column may appear blank screen reader software. contain colour fill, data. main2 palette used two colours required dark blue orange colours best colour contrast . two colours required another palette main family used, main2 used instead. Note: cells ‘Example colour’ column may appear blank screen reader software. contain colour fill, data. main6 palette available extended palette required. Note: cells ‘Example colour’ column may appear blank screen reader software. contain colour fill, data.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/colours.html","id":"sequential-palette-1","dir":"Articles","previous_headings":"Colour palettes in sgplot > Government Analysis Function","what":"Sequential palette","title":"Colours","text":"sequential colour palette used data order meaning. Note: cells ‘Example colour’ column may appear blank screen reader software. contain colour fill, data. palette restricted tints one colour, issues colour contrast. Follow advice using sequential palette Analysis Function colour guidance using palette.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/colours.html","id":"focus-palette-1","dir":"Articles","previous_headings":"Colour palettes in sgplot > Government Analysis Function","what":"Focus palette","title":"Colours","text":"focus palette used highlight specific elements plot. Note: cells ‘Example colour’ column may appear blank screen reader software. contain colour fill, data. light grey colour palette sufficient colour contrast white background therefore palette used essential communicate message. Follow advice using focus palette Analysis Function colour guidance using palette. Scottish Government focus palette issue, may wish use instead.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/colours.html","id":"using-your-own-colour-palette","dir":"Articles","previous_headings":"","what":"Using your own colour palette","title":"Colours","text":"may instances ’d like use different colour palette. , carefully considered ensure meets accessibility requirements. Analysis Function guidance outlines appropriate steps choosing accessibile colour palette used. example use alternative colour palette provided cookbook. However, use different palette regularly feel useful added sgplot, please make suggestion per contributing guidance.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/colours.html","id":"viewing-palettes-in-r","dir":"Articles","previous_headings":"","what":"Viewing palettes in R","title":"Colours","text":"Names hex codes available colours palettes can viewed running following code: Examples apply palettes ggplot2 charts available cookbook reference files scale_ colour functions.","code":"# View names and hex codes for all colours sgplot::sg_colour_values  # View names and hex codes for all colour palettes sgplot::sg_colour_palettes  # View names and hex codes for `main` colour palette sgplot::sg_colour_palettes$main  # For Social Security Scotland palettes, use the sss_ prefix sgplot::sss_colour_palettes  # For Analysis Function palettes, use the af_ prefix sgplot::af_colour_palettes"},{"path":[]},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"line-chart-with-one-line","dir":"Articles","previous_headings":"Line charts","what":"Line chart with one line","title":"Cookbook","text":"","code":"gapminder |>   filter(country == \"United Kingdom\") |>   ggplot(aes(x = year, y = lifeExp)) +   geom_line(linewidth = 1, colour = sg_colour_values[\"dark-blue\"]) +   theme_sg() +   scale_y_continuous(limits = c(0, 82),                      breaks = seq(0, 80, 20),                      expand = c(0, 0)) +   scale_x_continuous(breaks = seq(1952, 2007, 5)) +   labs(     x = \"Year\",     y = NULL,     title = \"Living Longer\",     subtitle = \"Life Expectancy in the United Kingdom 1952-2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"line-chart-with-multiple-lines","dir":"Articles","previous_headings":"Line charts","what":"Line chart with multiple lines","title":"Cookbook","text":"example line labels legend can found Adding annotations section.","code":"gapminder |>   filter(country %in% c(\"United Kingdom\", \"China\")) |>   ggplot(aes(x = year, y = lifeExp, colour = country)) +   geom_line(linewidth = 1) +   theme_sg(legend = \"bottom\") +   scale_colour_discrete_sg() +   scale_y_continuous(limits = c(0, 82),                      breaks = seq(0, 80, 20),                      expand = c(0, 0)) +   scale_x_continuous(breaks = seq(1952, 2007, 5)) +   labs(     x = \"Year\",     y = NULL,     title = \"Living Longer\",     subtitle = \"Life Expectancy in the United Kingdom and China 1952-2007\",     caption = \"Source: Gapminder\",     colour = NULL   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"bar-charts","dir":"Articles","previous_headings":"","what":"Bar charts","title":"Cookbook","text":"bar chart can sometimes look better horizontal bars. can also good option bar labels long difficult display horizontally x axis. produce horizontal bar chart, swap variables defined x y aes() make tweaks theme_sg(); draw grid lines x axis setting grid argument, draw axis line y axis setting axis argument.","code":"bar_data <-   gapminder |>   filter(year == 2007 & continent == \"Europe\") |>   slice_max(order_by = lifeExp, n = 5) ggplot(bar_data, aes(x = reorder(country, -lifeExp), y = lifeExp)) +   geom_col(fill = sg_colour_values[\"dark-blue\"]) +   theme_sg() +   scale_y_continuous(expand = c(0, 0)) +   labs(     x = NULL,     y = NULL,     title = \"Iceland has the highest life expectancy in Europe\",     subtitle = \"Life expectancy in European countries, 2007\",     caption = \"Source: Gapminder\"   ) ggplot(bar_data, aes(x = lifeExp, y = reorder(country, lifeExp))) +   geom_col(fill = sg_colour_values[\"dark-blue\"]) +   theme_sg(grid = \"x\", axis = \"y\") +   scale_x_continuous(expand = c(0, 0)) +   labs(     x = NULL,     y = NULL,     title = \"Iceland has the highest life expectancy in Europe\",     subtitle = \"Life expectancy in European countries, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"grouped-bar-chart","dir":"Articles","previous_headings":"Bar charts","what":"Grouped bar chart","title":"Cookbook","text":"create grouped bar chart, set stat = \"identity\" position = \"dodge\" call geom_bar(). Also assign variable fill within aes() determine variable used create bars within groups. legend argument theme_sg() can used set position legend.","code":"grouped_bar_data <-   gapminder |>   filter(year %in% c(1967, 2007) &            country %in% c(\"United Kingdom\", \"Ireland\", \"France\", \"Belgium\"))  ggplot(grouped_bar_data,        aes(x = country, y = lifeExp, fill = as.factor(year))) +   geom_bar(stat = \"identity\", position = \"dodge\") +   scale_y_continuous(expand = c(0, 0)) +   theme_sg(legend = \"bottom\") +   scale_fill_discrete_sg() +   labs(     x = \"Country\",     y = NULL,     fill = NULL,     title = \"Living longer\",     subtitle = \"Difference in life expectancy, 1967-2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"stacked-bar-chart","dir":"Articles","previous_headings":"Bar charts","what":"Stacked bar chart","title":"Cookbook","text":"create stacked bar chart, set stat = \"identity position = \"fill\" call geom_bar() assign variable fill . plot data part--whole. plot counts, set position = \"identity\". Caution taken producing stacked bar charts. can quickly become difficult interpret plotting non part--whole data, /plotting two categories per stack. First last categories stack always easier compare across bars middle. Think carefully story trying tell chart.","code":"stacked_bar_data <-   gapminder |>   filter(year == 2007) |>   mutate(lifeExpGrouped = cut(lifeExp,                               breaks = c(0, 75, Inf),                               labels = c(\"Under 75\", \"75+\"))) |>   group_by(continent, lifeExpGrouped) |>   summarise(n_countries = n(), .groups = \"drop\")  ggplot(stacked_bar_data,        aes(x = continent, y = n_countries, fill = lifeExpGrouped)) +   geom_bar(stat = \"identity\", position = \"fill\") +   theme_sg(legend = \"bottom\") +   scale_y_continuous(expand = c(0, 0), labels = scales::percent) +   coord_cartesian(clip = \"off\") +   scale_fill_discrete_sg() +   labs(     x = NULL,     y = NULL,     fill = \"Life Expectancy\",     title = \"How life expectancy varies across continents\",     subtitle = \"Percentage of countries by life expectancy band, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"histograms","dir":"Articles","previous_headings":"","what":"Histograms","title":"Cookbook","text":"","code":"gapminder |>   filter(year == 2007) |>   ggplot(aes(x = lifeExp)) +   geom_histogram(binwidth = 5,                  colour = \"white\",                  fill = sg_colour_values[\"dark-blue\"]) +   theme_sg() +   scale_y_continuous(expand = c(0, 0)) +   labs(     x = NULL,     y = \"Number of \\ncountries\",     title = \"How life expectancy varies\",     subtitle = \"Distribution of life expectancy, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"scatterplots","dir":"Articles","previous_headings":"","what":"Scatterplots","title":"Cookbook","text":"","code":"gapminder |>   filter(year == 2007) |>   ggplot(aes(x = gdpPercap, y = lifeExp, size = pop)) +   geom_point(colour = sg_colour_values[\"dark-blue\"]) +   theme_sg(axis = \"none\", grid = \"xy\") +   scale_x_continuous(     labels = function(x) scales::dollar(x, prefix = \"£\")   ) +   scale_size_continuous(labels = scales::comma) +   labs(     x = \"GDP\",     y = \"Life\\nExpectancy\",     size = \"Population\",     title = stringr::str_wrap(       \"The relationship between GDP and Life Expectancy is complex\", 40     ),     subtitle = \"GDP and Life Expectancy for all countires, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"small-multiples","dir":"Articles","previous_headings":"","what":"Small multiples","title":"Cookbook","text":"","code":"gapminder |>   filter(continent != \"Oceania\") |>   group_by(continent, year) |>   summarise(pop = sum(as.numeric(pop)), .groups = \"drop\") |>   ggplot(aes(x = year, y = pop, fill = continent)) +   geom_area() +   theme_sg(axis = \"none\", ticks = \"none\", legend = \"none\") +   scale_fill_discrete_sg() +   facet_wrap(~ continent, ncol = 2) +   scale_y_continuous(breaks = c(0, 2e9, 4e9),                      labels = c(0, \"2bn\", \"4bn\")) +   coord_cartesian(clip = \"off\") +   theme(axis.text.x = element_blank()) +   labs(     x = NULL,     y = NULL,     title = \"Asia's rapid growth\",     subtitle = \"Population growth by continent, 1952-2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"pie-charts","dir":"Articles","previous_headings":"","what":"Pie charts","title":"Cookbook","text":"","code":"stacked_bar_data |>   filter(continent == \"Europe\") |>   ggplot(aes(x = \"\", y = n_countries, fill = lifeExpGrouped)) +   geom_col(colour = \"white\", position = \"fill\") +   coord_polar(theta = \"y\") +   theme_sg(grid = \"none\", axis = \"none\", ticks = \"none\") +   theme(axis.text = element_blank()) +   scale_fill_discrete_sg() +   labs(     x = NULL,     y = NULL,     fill = NULL,     title = \"How life expectancy varies in Europe\",     subtitle = \"Percentage of countries by life expectancy band, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"focus-charts","dir":"Articles","previous_headings":"","what":"Focus charts","title":"Cookbook","text":"","code":"bar_data |>   ggplot(     aes(x = reorder(country, -lifeExp), y = lifeExp,         fill = country == \"Sweden\")   ) +   geom_col() +   theme_sg(legend = \"none\") +   scale_y_continuous(expand = c(0, 0)) +   scale_fill_discrete_sg(\"focus\", reverse = TRUE) +   labs(     x = NULL,     y = NULL,     title = \"Sweden has the fourth highest life expectancy in Europe\",     subtitle = \"Life expectancy in European countries, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"interactive-charts","dir":"Articles","previous_headings":"","what":"Interactive charts","title":"Cookbook","text":"make ggplot2 chart interactive, use ggplotly() plotly package. Note however ggplotly() number ‘quirks’, including following: sgplot uses ‘sans’ font family, however plotly recognise font. work around add call theme set font family text \"\". Subtitles captions supported ggplotly(). stated elsewhere guidance, titles subtitles ideally included body text surrounding chart rather embedded chart , hopefully big issue. example therefore title, subtitle caption. sgplot currently works ggplot2 charts, however plans develop package support interactive Highcharts produced using highcharter package.","code":"p <-   bar_data |>   # Format text for tooltips   mutate(tooltip = paste0(     \"Country: \", country, \"\\n\",     \"Life Expectancy: \", round(lifeExp, 1)   )) |>   ggplot(aes(x = reorder(country, -lifeExp), y = lifeExp, text = tooltip)) +   geom_col(fill = sg_colour_values[\"dark-blue\"]) +   theme_sg(ticks = \"x\") +   theme(text = element_text(family = \"\")) +   scale_y_continuous(expand = c(0, 0)) +   labs(     x = NULL,     y = NULL   )  plotly::ggplotly(p, tooltip = \"text\") |>   plotly::config(     modeBarButtons = list(list(\"resetViews\")),     displaylogo = FALSE   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"annotations","dir":"Articles","previous_headings":"","what":"Annotations","title":"Cookbook","text":"Labelling chart often preferable using legend, often relies user matching legend data using colour alone. legend can removed chart setting legend = \"none\" theme_sg(). easiest way add annotation manually define co-ordinates required position.  However, makes code difficult reuse values hard coded automatically generated data. Automating position annotations possible, fiddly. following examples use geom_label() use values data position annotations. geom_label() draws rectangle behind text (white default) border colour text (label_size = NA can used remove border). geom_text() also option annotations, include background can harder text read overlaps chart elements. functions also nudge arguments can used displace text improve positioning. Note previous examples, annotate() also requires geom (label text). operate way geom_label() geom_text(), discussed, annotate() able deal fixed values.  Annotations may also used add value labels bar chart. Note geom_text() used background required.  Note: annotate() function used add annotations manually defined positioning co-ordinates, whereas geom_label() geom_text() used using co-ordinates defined data frame. Although reverse may work, text can appear blurry.","code":"ann_data <- gapminder |>   filter(country %in% c(\"United Kingdom\", \"China\")) ann_data |>   ggplot(aes(x = year, y = lifeExp, colour = country)) +   geom_line(linewidth = 1) +   theme_sg(legend = \"none\") +   scale_colour_discrete_sg() +   scale_y_continuous(limits = c(0, 82),                      breaks = seq(0, 80, 20),                      expand = c(0, 0)) +   scale_x_continuous(limits = c(1952, 2017),                      breaks = seq(1952, 2017, 5)) +   annotate(geom = \"label\", x = 2008, y = 73, label = \"China\",            colour = sg_colour_values[1],            label.size = NA,            hjust = 0, vjust = 0.5) +   annotate(geom = \"label\", x = 2008, y = 79.4, label = \"United Kingdom\",            colour = sg_colour_values[2],            label.size = NA,            hjust = 0, vjust = 0.5) +   labs(     x = \"Year\",     y = NULL,     title = \"Living Longer\",     subtitle = \"Life Expectancy in the United Kingdom and China 1952-2007\",     caption = \"Source: Gapminder\"   ) ann_labs <- ann_data |>   group_by(country) |>   mutate(min_year = min(year)) |>   filter(year == max(year)) |>   ungroup()  ann_data |>   ggplot(aes(x = year, y = lifeExp, colour = country)) +   geom_line(linewidth = 1) +   theme_sg(legend = \"none\") +   scale_colour_discrete_sg() +   scale_y_continuous(limits = c(0, 82),                      breaks = seq(0, 80, 20),                      expand = c(0, 0)) +   scale_x_continuous(limits = c(1952, 2017),                      breaks = seq(1952, 2017, 5)) +   geom_label(data = ann_labs,              aes(x = year, y = lifeExp, label = country, colour = country),              hjust = 0,              vjust = 0.5,              nudge_x = 0.5,              label.size = NA) +   labs(     x = \"Year\",     y = NULL,     title = \"Living Longer\",     subtitle = \"Life Expectancy in the United Kingdom and China 1952-2007\",     caption = \"Source: Gapminder\"   ) ggplot(bar_data, aes(x = reorder(country, -lifeExp), y = lifeExp)) +   geom_col(fill = sg_colour_values[\"dark-blue\"]) +   geom_text(aes(label = round(lifeExp, 1)),             nudge_y = -5, colour = \"white\") +   theme_sg() +   scale_y_continuous(expand = c(0, 0)) +   labs(     x = NULL,     y = NULL,     title = \"Iceland has the highest life expectancy in Europe\",     subtitle = \"Life expectancy in European countries, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"other-customisations","dir":"Articles","previous_headings":"","what":"Other customisations","title":"Cookbook","text":"theme_sg() arguments control legend position appearance grid lines, axis lines axis ticks. information accepted values can found help file.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"sorting-a-bar-chart","dir":"Articles","previous_headings":"Other customisations","what":"Sorting a bar chart","title":"Cookbook","text":"control order bars chart, wrap variable want arrange reorder() specify variable want sort . following example sorts bars ascending order life expectancy. sort descending order, change reorder(country, desc(lifeExp)).  Examples following sections build chart.","code":"bar_data |>   ggplot(aes(x = lifeExp, y = reorder(country, lifeExp))) +   geom_col(fill = sg_colour_values[\"dark-blue\"]) +   theme_sg(axis = \"y\", grid = \"x\")"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"changing-chart-titles","dir":"Articles","previous_headings":"Other customisations","what":"Changing chart titles","title":"Cookbook","text":"Chart titles main title, subtitle, caption, axis titles legend titles, can controlled using labs(). title can removed using NULL.","code":"last_plot() +   labs(     x = NULL,     y = NULL,     title = \"Iceland has the highest life expectancy in Europe\",     subtitle = \"Life expectancy in European countries, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"reducing-space-between-chart-and-axis","dir":"Articles","previous_headings":"Other customisations","what":"Reducing space between chart and axis","title":"Cookbook","text":"default, bar chart gap bottom bars axis. can removed follows:  equivalent adjustment can made y axis using scale_y_continuous.","code":"last_plot() + scale_x_continuous(expand = c(0, 0))"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"changing-axis-limits-breaks-and-labels","dir":"Articles","previous_headings":"Other customisations","what":"Changing axis limits, breaks and labels","title":"Cookbook","text":"Axis limits, breaks labels continuous variables can controlled using scale_x/y_continuous(). discrete variables, labels can changes using scale_x/y_discrete() alternatively recoding variable data creating chart.  Note calls scale_x/y_continuous overwrite previous calls, hence expand = c(0, 0) included example.","code":"last_plot() +   scale_x_continuous(expand = c(0, 0),                      limits = c(0, 85),                      breaks = seq(0, 80, 20),                      labels = c(seq(0, 70, 20), \"80 years\"))"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"formatting-labels","dir":"Articles","previous_headings":"Other customisations","what":"Formatting labels","title":"Cookbook","text":"Formatting axis labels legend labels easily handled using scales package. following example formats y axis labels percentages, however scales can also handle currency thousands separators.","code":"stacked_bar_data |>   ggplot(aes(x = continent, y = n_countries, fill = lifeExpGrouped)) +   geom_bar(stat = \"identity\", position = \"fill\") +   theme_sg(legend = \"bottom\") +   scale_y_continuous(expand = c(0, 0), labels = scales::percent) +   scale_fill_discrete_sg() +   labs(     x = NULL,     y = NULL,     fill = \"Life Expectancy\",     title = \"How life expectancy varies across continents\",     subtitle = \"Percentage of countries by life expectancy band, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"avoiding-axisgrid-lines-being-cut-off","dir":"Articles","previous_headings":"Other customisations","what":"Avoiding axis/grid lines being cut off","title":"Cookbook","text":"Axis lines grid lines can sometimes appear ‘cut ’ drawn limits chart range. can see example previous section top grid line slightly narrower adjacent tick mark y axis. y axis limit 100%. grid line centred 100%, top half line ‘cut ’. can corrected follows:","code":"last_plot() + coord_cartesian(clip = \"off\")"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"adding-a-line","dir":"Articles","previous_headings":"Other customisations","what":"Adding a line","title":"Cookbook","text":"add horizontal vertical line across whole plot, use geom_hline() geom_vline(). can useful highlight threshold average level.","code":"gapminder |>   filter(country == \"United Kingdom\") |>   ggplot(aes(x = year, y = lifeExp)) +   geom_line(linewidth = 1, colour = sg_colour_values[1]) +   geom_hline(yintercept = 75, colour = sg_colour_values[2],              linewidth = 1, linetype = \"dashed\") +   annotate(geom = \"text\", x = 2007, y = 70, label = \"Age 70\") +   theme_sg() +   scale_y_continuous(limits = c(0, 82),                      breaks = seq(0, 80, 20),                      expand = c(0, 0)) +   scale_x_continuous(breaks = seq(1952, 2007, 5)) +   labs(     x = \"Year\",     y = NULL,     title = \"Living Longer\",     subtitle = \"Life Expectancy in the United Kingdom 1952-2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"wrapping-text","dir":"Articles","previous_headings":"Other customisations","what":"Wrapping text","title":"Cookbook","text":"text long, may cut distort dimensions chart.  two suggested ways solve issue; Insert \\n within string force line break; Use stringr::str_wrap() set maximum character width string. See examples methods follows:","code":"plot <-   ggplot(bar_data, aes(x = reorder(country, -lifeExp), y = lifeExp)) +   geom_col(fill = sg_colour_values[\"dark-blue\"]) +   theme_sg() +   scale_y_continuous(expand = c(0, 0)) +   labs(     x = NULL,     subtitle = \"Life expectancy in European countries, 2007\",     caption = \"Source: Gapminder\"   )  plot +   labs(     y = \"Percentage of countries\",     title = paste(\"Iceland has the highest life expectancy in Europe\",                   \"followed closely by Switzerland\")   ) plot +   labs(     y = \"Percentage\\nof countries\",     title = stringr::str_wrap(       paste(\"Iceland has the highest life expectancy in Europe\",             \"followed closely by Switzerland\"),       width = 50     )   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"adjusting-theme-elements","dir":"Articles","previous_headings":"Other customisations","what":"Adjusting theme elements","title":"Cookbook","text":"find need adjust theme elements chart, can done using theme(). Note done call theme_sg(), otherwise theme_sg() may overwrite specifications ’ve made.","code":"ggplot(bar_data, aes(x = reorder(country, -lifeExp), y = lifeExp)) +   geom_col(fill = sg_colour_values[\"dark-blue\"]) +   theme_sg(axis = \"xy\") +   theme(axis.line = element_line(colour = \"black\"),         axis.ticks = element_line(colour = \"black\")) +   scale_y_continuous(expand = c(0, 0)) +   labs(     x = NULL,     y = NULL,     title = \"Iceland has the highest life expectancy in Europe\",     subtitle = \"Life expectancy in European countries, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"using-different-colour-palettes","dir":"Articles","previous_headings":"","what":"Using different colour palettes","title":"Cookbook","text":"sgplot provides colour palettes set Scottish Government Design System. palettes developed meet Web Content Accessibility Guidelines 2.1 graphical objects. main palette default discrete colour/fill functions, sequential palette continuous colour/fill functions. Scottish Government palettes used default, however palettes also available Social Security Scotland Government Analysis Function. information colours used sgplot can found vignette(\"colours\").","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"using-non-default-sgplot-colour-palettes","dir":"Articles","previous_headings":"Using different colour palettes","what":"Using non-default sgplot colour palettes","title":"Cookbook","text":"may instances want use sgplot colour palette default. full list available palettes can found running either sgplot::sg_colour_palettes sgplot::af_colour_palettes. use Scottish Government main-extended palette:  Note: chart demonstration purposes . Accessibility guidance recommends using maximum four colours avoid clutter. use Analysis Function palette, set palette_type = \"af\" using scale_ colour functions. example, use Analysis Function main2 palette:","code":"gapminder |>   filter(country %in% c(\"United Kingdom\", \"China\", \"India\",                         \"Sweden\", \"Namibia\", \"Brazil\")) |>   ggplot(aes(x = year, y = lifeExp, colour = country)) +   geom_line(linewidth = 1) +   theme_sg(legend = \"bottom\") +   scale_colour_discrete_sg(\"main-extended\") +   scale_y_continuous(limits = c(0, 82),                      breaks = seq(0, 80, 20),                      expand = c(0, 0)) +   scale_x_continuous(breaks = seq(1952, 2007, 5)) +   labs(     x = \"Year\",     y = NULL,     title = \"Living Longer\",     subtitle = \"Life Expectancy in the United Kingdom and China 1952-2007\",     caption = \"Source: Gapminder\",     colour = NULL   ) gapminder |>   filter(country %in% c(\"United Kingdom\", \"China\")) |>   ggplot(aes(x = year, y = lifeExp, colour = country)) +   geom_line(linewidth = 1) +   theme_sg(legend = \"bottom\") +   scale_colour_discrete_sg(\"main2\", palette_type = \"af\") +   scale_y_continuous(limits = c(0, 82),                      breaks = seq(0, 80, 20),                      expand = c(0, 0)) +   scale_x_continuous(breaks = seq(1952, 2007, 5)) +   labs(     x = \"Year\",     y = NULL,     title = \"Living Longer\",     subtitle = \"Life Expectancy in the United Kingdom and China 1952-2007\",     caption = \"Source: Gapminder\",     colour = NULL   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"using-your-own-colour-palette","dir":"Articles","previous_headings":"Using different colour palettes","what":"Using your own colour palette","title":"Cookbook","text":"may instances ’d like use colour palette available sgplot. , carefully considered ensure meets accessibility requirements. Analysis Function guidance outlines appropriate steps choosing accessibile colour palette used.","code":"my_palette <- c(\"#0F820D\", \"#000000\")  gapminder |>   filter(country == \"United Kingdom\") |>   ggplot(aes(x = year, y = lifeExp)) +   geom_line(linewidth = 1, colour = my_palette[1]) +   theme_sg() +   scale_y_continuous(limits = c(0, 82),                      breaks = seq(0, 80, 20),                      expand = c(0, 0)) +   scale_x_continuous(breaks = seq(1952, 2007, 5)) +   labs(     x = \"Year\",     y = NULL,     title = \"Living Longer\",     subtitle = \"Life Expectancy in the United Kingdom 1952-2007\",     caption = \"Source: Gapminder\"   ) gapminder |>   filter(country %in% c(\"United Kingdom\", \"China\")) |>   ggplot(aes(x = year, y = lifeExp, colour = country)) +   geom_line(linewidth = 1) +   theme_sg(legend = \"bottom\") +   scale_colour_manual(values = my_palette) +   scale_y_continuous(limits = c(0, 82),                      breaks = seq(0, 80, 20),                      expand = c(0, 0)) +   scale_x_continuous(breaks = seq(1952, 2007, 5)) +   labs(     x = \"Year\",     y = NULL,     title = \"Living Longer\",     subtitle = \"Life Expectancy in the United Kingdom and China 1952-2007\",     caption = \"Source: Gapminder\",     colour = NULL   )"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"adding-a-new-colour-palette-to-sgplot","dir":"Articles","previous_headings":"Using different colour palettes > Using your own colour palette","what":"Adding a new colour palette to sgplot","title":"Cookbook","text":"use different palette regularly feel useful added sgplot, please make suggestion per contributing guidance.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/cookbook.html","id":"acknowledgments","dir":"Articles","previous_headings":"","what":"Acknowledgments","title":"Cookbook","text":"cookbook examples contains inspired BBC Visual Data Journalism cookbook R graphics bbplot package.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/saving.html","id":"file-format","dir":"Articles","previous_headings":"","what":"File format","title":"Saving charts","text":"best format save images charts Scalable Vector Graphic (SVG) format. SVG files retain quality regardless size viewed . means SVG images accessible image formats JPG PNG. can find example chart image SVG, JPEG PNG format GOV.UK. use SVG image, JPG PNG image acceptable.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/articles/saving.html","id":"size-and-dimensions","dir":"Articles","previous_headings":"","what":"Size and dimensions","title":"Saving charts","text":"chart follow flow content surrounding . roughly width text image. dimensions chart depend plan use . example, ’re using page-based document Microsoft Word, like include landscape image A4 portrait page, width 159 mm height 100 mm works well. using SVG file format, actual saved image dimensions exactly specified. However, using JPG PNG formats, may . file formats also influenced DPI (dots per inch). DPI measure resolution image; higher DPI, crisp good quality image . another good reason use SVG formats, however limited JPG PNG, may take trial error find correct combination width, height DPI.","code":""},{"path":[]},{"path":"https://scotgovanalysis.github.io/sgplot/articles/saving.html","id":"standalone-image-file","dir":"Articles","previous_headings":"Examples","what":"Standalone image file","title":"Saving charts","text":"ggsave() function ggplot2 can used save standalone image file. specify SVG file format, simply ensure file name ends .svg. following example uses recommended dimensions previous section. JPG PNG image, also consider DPI value. ggsave, can supplied numerical value, string input. best quality, use “retina”.","code":"ggsave(myplot, filename = \"example-plot.svg\",        width = 159, height = 100, units = \"mm\") ggsave(myplot, filename = \"example-plot.png\",        width = 159, height = 100, units = \"mm\", dpi = \"retina\")"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/saving.html","id":"r-markdown","dir":"Articles","previous_headings":"Examples","what":"R Markdown","title":"Saving charts","text":"charts R Markdown document, file format, dimensions settings can set code chunk options. Format: Set dev = \"svg\", otherwise default format png used. Dimensions: Set fig.height fig.width. HTML outputs, default figure dimensions often suitable, however knitting Microsoft Word, default dimensions often result small image best specify R Markdown code chunk. Note R Markdown requires figure dimensions inches. ’d rather use millimetres, use mm_to_inch helper function sgplot. Alt Text: HTML outputs, use fig.alt, Microsoft Word outputs, fig.cap. Note default, value given fig.cap shown chart. ’d rather turn , can control R Markdown YAML header: Set options code chunk header: can sometimes make code easier read specifying chunk options within chunk: like images format, usually easier set options globally first code chunk document: Note sgplot must loaded setting global options, otherwise need specify package calling mm_to_inch; e.g. sgplot::mm_to_inch(). may cases ’d like charts SVG format, different dimensions. case can set dev = \"svg\" global options fig.width fig.height code chunk separately.","code":"output:    word_document:    fig_caption: no ```{r plot1, dev = \"svg\", fig.width = mm_to_inch(159), fig.height = mm_to_inch(100), fig.alt = \"A description of plot1\"} plot1 ``` ```{r plot1} #| dev = \"svg\" #| fig.width = mm_to_inch(159) #| fig.height = mm_to_inch(100) #| fig.alt = \"A description of plot1\"  plot1 ``` ```{r setup, include = FALSE} knitr::opts_chunk$set(   dev = \"svg\",   fig.width = mm_to_inch(159),    fig.height = mm_to_inch(100) ) ```"},{"path":"https://scotgovanalysis.github.io/sgplot/articles/saving.html","id":"knitting-to-microsoft-word","dir":"Articles","previous_headings":"Examples > R Markdown","what":"Knitting to Microsoft Word","title":"Saving charts","text":"may receive warning message referring rsvg-convert knitting R Markdown document containing SVG images Microsoft Word. can safely ignored. possible centre charts images knitting Microsoft Word. workaround use Word style template document.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Scottish Government  Email Scottish Government>  Scottish Government GitHub profile>. Copyright holder, funder. Alice Hannah  Email Alice Hannah>  Alice Hannah GitHub profile>. Author, maintainer.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Hannah (2024). sgplot: Graphic Styles Colours Scottish Government Plots. R package version 0.3.0, https://ScotGovAnalysis.github.io/sgplot, https://github.com/ScotGovAnalysis/sgplot.","code":"@Manual{,   title = {sgplot: Graphic Styles and Colours for Scottish Government Plots},   author = {Alice Hannah},   year = {2024},   note = {R package version 0.3.0,   https://ScotGovAnalysis.github.io/sgplot},   url = {https://github.com/ScotGovAnalysis/sgplot}, }"},{"path":"https://scotgovanalysis.github.io/sgplot/index.html","id":"sgplot-","dir":"","previous_headings":"","what":"Graphic Styles and Colours for Scottish Government Plots","title":"Graphic Styles and Colours for Scottish Government Plots","text":"sgplot R package creating accessible plots Scottish Government. Currently, functions available styling ggplot2 plots. package developed using Government Analysis Function Data Visualisation guidance uses accessible colour palettes Scottish Government Design System. sgplot used conjunction guidance documents. information package functions can found sgplot website. particular, cookbook contains lots examples. Slides also available internal presentation given statisticians analysts.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Graphic Styles and Colours for Scottish Government Plots","text":"working within Scottish Government network, can install sgplot way R packages. easiest way using pkginstaller add-. guidance available eRDM. Alternatively, sgplot can installed directly GitHub. Note method requires remotes package may work within Scottish Government network. Finally, sgplot can also installed downloading zip repository running following code, replacing section marked <> (including arrows ) location downloaded zip:","code":"remotes::install_github(   \"ScotGovAnalysis/sgplot\",   upgrade = \"never\",   build_vignettes = TRUE ) remotes::install_local(   \"<FILEPATH OF ZIPPED FILE>/sgplot-main.zip\",   upgrade = \"never\",   build_vignettes = TRUE )"},{"path":"https://scotgovanalysis.github.io/sgplot/index.html","id":"getting-started","dir":"","previous_headings":"","what":"Getting Started","title":"Graphic Styles and Colours for Scottish Government Plots","text":"installed, sgplot can loaded using library() function: Help files function package can found References page package website. Alternatively, type ?function_name RStudio console. example:","code":"library(sgplot) ?theme_sg()"},{"path":"https://scotgovanalysis.github.io/sgplot/index.html","id":"use-sgplot-as-default","dir":"","previous_headings":"Getting Started","what":"Use sgplot as default","title":"Graphic Styles and Colours for Scottish Government Plots","text":"easiest way use sgplot adding use_sgplot() beginning R script, Rmarkdown document Shiny app code. function set number defaults ggplot2 geoms, use sgplot colour palettes use theme_sg().","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/index.html","id":"example-1-plot-with-one-colour-using-ggplot2-defaults","dir":"","previous_headings":"Getting Started > Use sgplot as default","what":"Example 1: Plot with one colour using ggplot2 defaults","title":"Graphic Styles and Colours for Scottish Government Plots","text":"","code":"library(ggplot2) library(dplyr) library(gapminder)  gapminder |>    filter(year == 2007 & continent == \"Europe\") |>   slice_max(order_by = lifeExp, n = 5) |>   ggplot() +   geom_col(aes(x = reorder(country, -lifeExp), y = lifeExp)) +   scale_y_continuous(expand = c(0, 0)) +   labs(     x = NULL,     y = NULL,     title = \"Iceland has the highest life expectancy in Europe\",     subtitle = \"Life expectancy in European countries, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://scotgovanalysis.github.io/sgplot/index.html","id":"example-2-plot-with-one-colour-using-sgplot-defaults","dir":"","previous_headings":"Getting Started > Use sgplot as default","what":"Example 2: Plot with one colour using sgplot defaults","title":"Graphic Styles and Colours for Scottish Government Plots","text":"Note use titles, subtitles captions  Titles, subtitles captions embedded example charts demonstration purposes. However, accessibility reasons, usually preferable provide titles body page rather embedded within image plot. information available accessibility article.","code":"sgplot::use_sgplot()  gapminder |>    filter(year == 2007 & continent == \"Europe\") |>   slice_max(order_by = lifeExp, n = 5) |>   ggplot() +   geom_col(aes(x = reorder(country, -lifeExp), y = lifeExp)) +   scale_y_continuous(expand = c(0, 0)) +   labs(     x = NULL,     y = NULL,     title = \"Iceland has the highest life expectancy in Europe\",     subtitle = \"Life expectancy in European countries, 2007\",     caption = \"Source: Gapminder\"   )"},{"path":"https://scotgovanalysis.github.io/sgplot/index.html","id":"licence","dir":"","previous_headings":"","what":"Licence","title":"Graphic Styles and Colours for Scottish Government Plots","text":"Unless stated otherwise, codebase released MIT License. covers codebase sample code documentation. documentation © Crown copyright available terms Open Government 3.0 licence.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/af_colour_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Government Analysis Function colours and palettes — af_colour_values","title":"Government Analysis Function colours and palettes — af_colour_values","text":"af_colour_values vector containing colour names corresponding hex codes. af_colour_palettes list grouping colours palettes.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/af_colour_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Government Analysis Function colours and palettes — af_colour_values","text":"","code":"af_colour_values  af_colour_palettes"},{"path":"https://scotgovanalysis.github.io/sgplot/reference/af_colour_values.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Government Analysis Function colours and palettes — af_colour_values","text":"object class character length 9. object class list length 5.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/af_colour_values.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Government Analysis Function colours and palettes — af_colour_values","text":"Government Analysis Function Colours Guidance","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/mm_to_inch.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert millimetres to inches — mm_to_inch","title":"Convert millimetres to inches — mm_to_inch","text":"Convert millimetres inches","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/mm_to_inch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert millimetres to inches — mm_to_inch","text":"","code":"mm_to_inch(x)"},{"path":"https://scotgovanalysis.github.io/sgplot/reference/mm_to_inch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert millimetres to inches — mm_to_inch","text":"x Numeric value millimetres","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/mm_to_inch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert millimetres to inches — mm_to_inch","text":"numerical value inches","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/mm_to_inch.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert millimetres to inches — mm_to_inch","text":"","code":"mm_to_inch(100) #> [1] 3.937008"},{"path":"https://scotgovanalysis.github.io/sgplot/reference/scale_colour_continuous_sg.html","id":null,"dir":"Reference","previous_headings":"","what":"Continuous colour/fill scales for Scottish Government plots — scale_colour_continuous_sg","title":"Continuous colour/fill scales for Scottish Government plots — scale_colour_continuous_sg","text":"Continuous colour/fill scales Scottish Government plots","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/scale_colour_continuous_sg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Continuous colour/fill scales for Scottish Government plots — scale_colour_continuous_sg","text":"","code":"scale_colour_continuous_sg(   palette = \"sequential\",   palette_type = c(\"sg\", \"sss\", \"af\"),   reverse = FALSE,   na_colour = \"grey50\",   guide = \"colourbar\",   ... )  scale_fill_continuous_sg(   palette = \"sequential\",   palette_type = c(\"sg\", \"sss\", \"af\"),   reverse = FALSE,   na_colour = \"grey50\",   guide = \"colourbar\",   ... )"},{"path":"https://scotgovanalysis.github.io/sgplot/reference/scale_colour_continuous_sg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Continuous colour/fill scales for Scottish Government plots — scale_colour_continuous_sg","text":"palette Name palette use; e.g. \"main\", \"sequential\", \"focus\". Default value \"sequential\". palette_type Either \"sg\" use Scottish Government palettes (default), \"sss\" use Social Security Scotland palettes \"af\" use Analysis Function palettes. reverse Boolean value indicate whether palette reversed. na_colour Colour set missing values. guide name function used create guide. Default \"colourbar\". ... Additional arguments passed scale type.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/scale_colour_continuous_sg.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Continuous colour/fill scales for Scottish Government plots — scale_colour_continuous_sg","text":"","code":"library(ggplot2)  ggplot(mtcars, aes(x = mpg, y = wt, colour = cyl)) +   geom_point() +   scale_colour_continuous_sg()   ggplot(faithfuld, aes(x = waiting, y = eruptions, fill = density)) +   geom_raster() +   scale_fill_continuous_sg()"},{"path":"https://scotgovanalysis.github.io/sgplot/reference/scale_colour_discrete_sg.html","id":null,"dir":"Reference","previous_headings":"","what":"Discrete colour/fill scales for Scottish Government plots — scale_colour_discrete_sg","title":"Discrete colour/fill scales for Scottish Government plots — scale_colour_discrete_sg","text":"Discrete colour/fill scales Scottish Government plots","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/scale_colour_discrete_sg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Discrete colour/fill scales for Scottish Government plots — scale_colour_discrete_sg","text":"","code":"scale_colour_discrete_sg(   palette = \"main\",   palette_type = c(\"sg\", \"sss\", \"af\"),   reverse = FALSE,   ... )  scale_fill_discrete_sg(   palette = \"main\",   palette_type = c(\"sg\", \"sss\", \"af\"),   reverse = FALSE,   ... )"},{"path":"https://scotgovanalysis.github.io/sgplot/reference/scale_colour_discrete_sg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Discrete colour/fill scales for Scottish Government plots — scale_colour_discrete_sg","text":"palette Name palette use; e.g. \"main\", \"sequential\", \"focus\". Default value \"main\". palette_type Either \"sg\" use Scottish Government palettes (default), \"sss\" use Social Security Scotland palettes \"af\" use Analysis Function palettes. reverse Boolean value indicate whether palette reversed. ... Additional arguments passed scale type.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/scale_colour_discrete_sg.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Discrete colour/fill scales for Scottish Government plots — scale_colour_discrete_sg","text":"","code":"library(ggplot2) library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union  economics_long %>%   filter(variable %in% c(\"psavert\", \"uempmed\")) %>%   ggplot(aes(x = date, y = value, colour = variable)) +   geom_line(linewidth = 1) +   scale_colour_discrete_sg()   d <- subset(mpg, manufacturer == \"ford\")  ggplot(d, aes(x = class, fill = class)) +  geom_bar() +  scale_fill_discrete_sg()"},{"path":"https://scotgovanalysis.github.io/sgplot/reference/sg_colour_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Scottish Government colours and palettes — sg_colour_values","title":"Scottish Government colours and palettes — sg_colour_values","text":"sg_colour_values vector containing colour names corresponding hex codes. sg_colour_palettes list grouping colours palettes.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/sg_colour_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scottish Government colours and palettes — sg_colour_values","text":"","code":"sg_colour_values  sg_colour_palettes"},{"path":"https://scotgovanalysis.github.io/sgplot/reference/sg_colour_values.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Scottish Government colours and palettes — sg_colour_values","text":"object class character length 11. object class list length 4.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/sg_colour_values.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Scottish Government colours and palettes — sg_colour_values","text":"Scottish Government Design System","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/sgplot-package.html","id":null,"dir":"Reference","previous_headings":"","what":"sgplot: Graphic Styles and Colours for Scottish Government Plots — sgplot-package","title":"sgplot: Graphic Styles and Colours for Scottish Government Plots — sgplot-package","text":"Standard ggplot theme colour palettes use Scottish Government.","code":""},{"path":[]},{"path":"https://scotgovanalysis.github.io/sgplot/reference/sgplot-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"sgplot: Graphic Styles and Colours for Scottish Government Plots — sgplot-package","text":"Maintainer: Alice Hannah alice.hannah@gov.scot contributors: Scottish Government statistics.enquiries@gov.scot [copyright holder, funder]","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/sss_colour_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Social Security Scotland colours and palettes — sss_colour_values","title":"Social Security Scotland colours and palettes — sss_colour_values","text":"sss_colour_values vector containing colour names corresponding hex codes. sss_colour_palettes list grouping colours palettes.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/sss_colour_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Social Security Scotland colours and palettes — sss_colour_values","text":"","code":"sss_colour_values  sss_colour_palettes"},{"path":"https://scotgovanalysis.github.io/sgplot/reference/sss_colour_values.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Social Security Scotland colours and palettes — sss_colour_values","text":"object class character length 12. object class list length 4.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/sss_colour_values.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Social Security Scotland colours and palettes — sss_colour_values","text":"Contact Social Security Scotland Statistics mailbox queries colours palettes.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/theme_sg.html","id":null,"dir":"Reference","previous_headings":"","what":"Scottish Government theme for ggplot2 charts. — theme_sg","title":"Scottish Government theme for ggplot2 charts. — theme_sg","text":"ggplot2 theme Scottish Government plots.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/theme_sg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scottish Government theme for ggplot2 charts. — theme_sg","text":"","code":"theme_sg(   base_size = 12,   base_line_size = base_size/24,   base_rect_size = base_size/24,   grid = c(\"y\", \"x\", \"xy\", \"none\"),   axis = c(\"x\", \"y\", \"xy\", \"none\"),   ticks = c(\"xy\", \"x\", \"y\", \"none\"),   legend = c(\"right\", \"left\", \"top\", \"bottom\", \"none\") )"},{"path":"https://scotgovanalysis.github.io/sgplot/reference/theme_sg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Scottish Government theme for ggplot2 charts. — theme_sg","text":"base_size base font size, given pts. base_line_size base size line elements. base_rect_size base size rect elements. grid, axis, ticks 'x', 'y', 'xy' 'none' determine axes attribute drawn. Grid defaults 'y', axis 'x', ticks 'xy'. legend 'right', 'left', 'top', 'bottom', 'none' determine position legend. Defaults 'right'.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/theme_sg.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Scottish Government theme for ggplot2 charts. — theme_sg","text":"","code":"library(ggplot2)  p <- ggplot(mpg, aes(x = class)) + geom_bar()  p  p + theme_sg()"},{"path":"https://scotgovanalysis.github.io/sgplot/reference/use_sgplot.html","id":null,"dir":"Reference","previous_headings":"","what":"Use sgplot defaults. — use_sgplot","title":"Use sgplot defaults. — use_sgplot","text":"Set sgplot theme, colour palette geom aesthetic defaults ggplot2 charts.","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/use_sgplot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Use sgplot defaults. — use_sgplot","text":"","code":"use_sgplot(default_colour = sgplot::sg_colour_values[\"dark-blue\"], ...)"},{"path":"https://scotgovanalysis.github.io/sgplot/reference/use_sgplot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Use sgplot defaults. — use_sgplot","text":"default_colour Default colour/fill geoms. Default value 'blue' sgplot::sg_colour_values. ... Arguments passed sgplot::theme_sg().","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/reference/use_sgplot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Use sgplot defaults. — use_sgplot","text":"","code":"library(ggplot2)  d <- subset(mpg, manufacturer == \"ford\")  ggplot(d, aes(x = model)) + geom_bar()  ggplot(d, aes(x = model, fill = class)) + geom_bar()   use_sgplot() #> ℹ Default ggplot2 theme set to `theme_sg`. #> ℹ Default colours set. #> ℹ Default geom aesthetics set.  ggplot(d, aes(x = model)) + geom_bar()  ggplot(d, aes(x = model, fill = class, colour = class)) + geom_bar()"},{"path":"https://scotgovanalysis.github.io/sgplot/news/index.html","id":"sgplot-030","dir":"Changelog","previous_headings":"","what":"sgplot 0.3.0","title":"sgplot 0.3.0","text":"Add Social Security Scotland colours (sss_colour_values) palettes (sss_colour_palettes) Fix bug use_sgplot() passing arguments theme_sg()","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/news/index.html","id":"sgplot-022","dir":"Changelog","previous_headings":"","what":"sgplot 0.2.2","title":"sgplot 0.2.2","text":"Fix links contributing guidance vignettes Update required roxygen version","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/news/index.html","id":"sgplot-021","dir":"Changelog","previous_headings":"","what":"sgplot 0.2.1","title":"sgplot 0.2.1","text":"Fix issue scale_ functions didn’t work without package loaded (#26) Add examples using non-default colour palettes (#24) Add link theme_sg() use_sgplot() help file","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/news/index.html","id":"sgplot-020","dir":"Changelog","previous_headings":"","what":"sgplot 0.2.0","title":"sgplot 0.2.0","text":"Add Scottish Government Design System colour palettes Reduce base_line_size theme_sg() Remove default dark blue outline geom_col geom_bar using use_sgplot().","code":""},{"path":"https://scotgovanalysis.github.io/sgplot/news/index.html","id":"sgplot-010","dir":"Changelog","previous_headings":"","what":"sgplot 0.1.0","title":"sgplot 0.1.0","text":"First package release Add functions create accessible plots using ggplot2 Add pkgdown site (https://ScotGovAnalysis.github.io/sgplot) including cookbook","code":""}]
