<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Saving charts • sgplot</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Saving charts">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sgplot</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.3.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/cookbook.html">Cookbook</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/accessibility.html">Accessibility</a></li>
    <li><a class="dropdown-item" href="../articles/colours.html">Colours</a></li>
    <li><a class="dropdown-item" href="../articles/saving.html">Saving charts</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ScotGovAnalysis/sgplot/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Saving charts</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ScotGovAnalysis/sgplot/blob/main/vignettes/saving.Rmd" class="external-link"><code>vignettes/saving.Rmd</code></a></small>
      <div class="d-none name"><code>saving.Rmd</code></div>
    </div>

    
    
<p>This article covers best practice guidance for saving charts as
images. This may be as a standalone image file, or embedded in a
document produced using R Markdown.</p>
<p>This guidance follows recommendations in the <a href="https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-charts/#section-4" class="external-link">Government
Analysis Function charts guidance</a>.</p>
<p>In summary, the following good practice is recommended:</p>
<ul>
<li><p>Save charts in SVG image format.</p></li>
<li><p>Size a chart to be roughly the same width as the content
surrounding it.</p></li>
<li><p>For landscape charts on an A4 page, 159 mm x 100 mm are good
dimensions.</p></li>
<li><p>Remember to include alt text when including charts in an R
Markdown document.</p></li>
</ul>
<div class="section level2">
<h2 id="file-format">File format<a class="anchor" aria-label="anchor" href="#file-format"></a>
</h2>
<p>The best format to save images of charts is Scalable Vector Graphic
(SVG) format. SVG files retain the same quality regardless of the size
they are viewed at. This means SVG images are more accessible than other
image formats such as JPG or PNG.</p>
<p>You can find an <a href="https://www.gov.uk/government/publications/examples-of-visual-content-to-use-on-govuk/examples-of-visual-content-to-use-on-govuk#image-formats-for-charts" class="external-link">example
of a chart image in an SVG, JPEG and PNG format on GOV.UK</a>.</p>
<p>If you cannot use an SVG image, then a JPG or PNG image is
acceptable.</p>
</div>
<div class="section level2">
<h2 id="size-and-dimensions">Size and dimensions<a class="anchor" aria-label="anchor" href="#size-and-dimensions"></a>
</h2>
<p>A chart should follow the flow of the content surrounding it. It
should be roughly the same width as the text before and after the
image.</p>
<p>The dimensions of your chart will depend on where you plan to use it.
For example, if you’re using a page-based document such as Microsoft
Word, and would like to include a landscape image on an A4 portrait
page, a width of 159 mm and height of 100 mm works well.</p>
<p>When using the SVG file format, actual saved image dimensions will be
exactly as specified. However, when using JPG or PNG formats, they may
not be. This is because these file formats are also influenced by DPI
(dots per inch). DPI is a measure of the resolution of an image; the
higher the DPI, the more crisp and good quality your image will be. This
is another good reason to use SVG over these formats, however if you are
limited to JPG or PNG, it may take some trial and error to find the
correct combination of width, height and DPI.</p>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<div class="section level3">
<h3 id="standalone-image-file">Standalone image file<a class="anchor" aria-label="anchor" href="#standalone-image-file"></a>
</h3>
<p>The <code><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave()</a></code> function from <code>ggplot2</code> can be
used to save a standalone image file. To specify the SVG file format,
simply ensure your file name ends with <code>.svg</code>. The following
example uses the recommended dimensions from the previous section.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave</a></span><span class="op">(</span><span class="va">myplot</span>, filename <span class="op">=</span> <span class="st">"example-plot.svg"</span>,</span>
<span>       width <span class="op">=</span> <span class="fl">159</span>, height <span class="op">=</span> <span class="fl">100</span>, units <span class="op">=</span> <span class="st">"mm"</span><span class="op">)</span></span></code></pre></div>
<p>For a JPG or PNG image, also consider the DPI value. In
<code>ggsave</code>, this can be supplied as a numerical value, or as a
string input. For best quality, use “retina”.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave</a></span><span class="op">(</span><span class="va">myplot</span>, filename <span class="op">=</span> <span class="st">"example-plot.png"</span>,</span>
<span>       width <span class="op">=</span> <span class="fl">159</span>, height <span class="op">=</span> <span class="fl">100</span>, units <span class="op">=</span> <span class="st">"mm"</span>, dpi <span class="op">=</span> <span class="st">"retina"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="r-markdown">R Markdown<a class="anchor" aria-label="anchor" href="#r-markdown"></a>
</h3>
<p>For charts in an R Markdown document, file format, dimensions and
other settings can be set in the code chunk options.</p>
<ul>
<li><p><strong>Format</strong>: Set <code>dev = "svg"</code>, otherwise
the default format of <code>png</code> will be used.</p></li>
<li><p><strong>Dimensions</strong>: Set <code>fig.height</code> and
<code>fig.width</code>. For HTML outputs, the default figure dimensions
are often suitable, however when knitting to Microsoft Word, the default
dimensions often result in a small image and so it is best to specify
these in the R Markdown code chunk. Note that R Markdown requires figure
dimensions in inches. If you’d rather use millimetres, use the
<code>mm_to_inch</code> helper function from sgplot.</p></li>
<li>
<p><strong>Alt Text</strong>: For HTML outputs, use
<code>fig.alt</code>, and for Microsoft Word outputs,
<code>fig.cap</code>. Note that by default, the value given to
<code>fig.cap</code> will be shown under the chart. If you’d rather turn
this off, you can control this in the R Markdown YAML header:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="at">  </span><span class="fu">word_document</span><span class="kw">:</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="at">   </span><span class="fu">fig_caption</span><span class="kw">:</span><span class="at"> </span><span class="ch">no</span></span></code></pre></div>
</li>
</ul>
<p>Set these options in a code chunk header:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="in">```{r plot1, dev = "svg", fig.width = mm_to_inch(159), fig.height = mm_to_inch(100), fig.alt = "A description of plot1"}</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="in">plot1</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>It can sometimes make your code easier to read by specifying chunk
options within the chunk:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="in">```{r plot1}</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="in">#| dev = "svg"</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="in">#| fig.width = mm_to_inch(159)</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="in">#| fig.height = mm_to_inch(100)</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="in">#| fig.alt = "A description of plot1"</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="in">plot1</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>If you would like all of your images to be in the same format, it is
usually easier to set options globally in the first code chunk of your
document:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="in">```{r setup, include = FALSE}</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="in">knitr::opts_chunk$set(</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="in">  dev = "svg",</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="in">  fig.width = mm_to_inch(159), </span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="in">  fig.height = mm_to_inch(100)</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>Note that sgplot must be loaded before setting global options,
otherwise you will need to specify the package when calling
<code>mm_to_inch</code>; e.g. <code><a href="../reference/mm_to_inch.html">sgplot::mm_to_inch()</a></code>.</p>
<p>There may be cases where you’d like all charts to be in SVG format,
but with different dimensions. In this case you can set
<code>dev = "svg"</code> in the global options and
<code>fig.width</code> and <code>fig.height</code> for each code chunk
separately.</p>
<div class="section level4">
<h4 id="knitting-to-microsoft-word">Knitting to Microsoft Word<a class="anchor" aria-label="anchor" href="#knitting-to-microsoft-word"></a>
</h4>
<ul>
<li><p>You may receive a warning message referring to
<code>rsvg-convert</code> when knitting an R Markdown document
containing SVG images to Microsoft Word. This can be safely
ignored.</p></li>
<li><p>It is not possible to centre charts or images when knitting to
Microsoft Word. A workaround for this is to <a href="https://bookdown.org/yihui/rmarkdown-cookbook/word-template.html#word-template" class="external-link">use
a Word style template document</a>.</p></li>
</ul>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by the Scottish Government  <a href="mailto:statistics.enquiries@gov.scot"><i class="fas fa-envelope" aria-hidden="true"></i><span class="visually-hidden">Email Scottish Government&gt;</span></a>  <a href="https://github.com/scotgovanalysis" class="external-link"><i class="fab fa-github" aria-hidden="true"></i><span class="visually-hidden">Scottish Government GitHub profile&gt;</span></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
